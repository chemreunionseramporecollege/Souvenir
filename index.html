<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Flipbook</title>

<style>
html, body {
  margin:0; padding:0; height:100%; background:#111; overflow:hidden;
  display:flex; align-items:center; justify-content:center;
}

#container {
  width:100%; height:100%; display:flex; align-items:center; justify-content:center;
}

#book {
  position: relative;
  width: 90vw;
  height: 90vh;
  max-width: 900px;
  max-height: 90vh;
  perspective: 2000px;
}

.page {
  position:absolute;
  width:100%;
  height:100%;
  transform-origin: left center;
  transition: transform 0.8s ease, z-index 0.8s;
  background:#000;
  box-shadow:0 10px 30px rgba(0,0,0,0.5);
}

.page img {
  width:100%;
  height:100%;
  object-fit:contain;
  background:#000;
}

#controls {
  position:fixed;
  bottom:10px;
  width:100%;
  text-align:center;
  z-index:9999;
}

button {
  padding:8px 14px;
  margin:0 6px;
  border-radius:20px;
  border:none;
  background:#fff;
  cursor:pointer;
  font-size:14px;
}

#loader {
  position:fixed;
  inset:0;
  background:#111;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:10000;
  font-size:16px;
  letter-spacing:1px;
}
</style>
</head>

<body>

<div id="loader">Loading pages…</div>

<div id="container">
  <div id="book"></div>
</div>

<div id="controls" style="display:none">
  <button onclick="prevPage()">◀ Prev</button>
  <button onclick="nextPage()">Next ▶</button>
  <button onclick="toggleFull()">⛶ Fullscreen</button>
</div>

<script>
const pages = [
'page_0001.jpg','page_0002.jpg','page_0003.jpg','page_0004.jpg','page_0005.jpg','page_0006.jpg','page_0007.jpg','page_0008.jpg','page_0009.jpg','page_0010.jpg',
'page_0011.jpg','page_0012.jpg','page_0013.jpg','page_0014.jpg','page_0015.jpg','page_0016.jpg','page_0017.jpg','page_0018.jpg','page_0019.jpg','page_0020.jpg',
'page_0021.jpg','page_0022.jpg','page_0023.jpg','page_0024.jpg','page_0025.jpg','page_0026.jpg','page_0027.jpg','page_0028.jpg','page_0029.jpg','page_0030.jpg',
'page_0031.jpg','page_0032.jpg','page_0033.jpg','page_0034.jpg','page_0035.jpg','page_0036.jpg','page_0037.jpg','page_0038.jpg','page_0039.jpg','page_0040.jpg',
'page_0041.jpg','page_0042.jpg','page_0043.jpg','page_0044.jpg','page_0045.jpg','page_0046.jpg','page_0047.jpg','page_0048.jpg','page_0049.jpg','page_0050.jpg',
'page_0051.jpg','page_0052.jpg','page_0053.jpg','page_0054.jpg','page_0055.jpg','page_0056.jpg','page_0057.jpg','page_0058.jpg','page_0059.jpg','page_0060.jpg',
'page_0061.jpg','page_0062.jpg','page_0063.jpg','page_0064.jpg','page_0065.jpg','page_0066.jpg','page_0067.jpg','page_0068.jpg','page_0069.jpg','page_0070.jpg',
'page_0071.jpg','page_0072.jpg','page_0073.jpg','page_0074.jpg','page_0075.jpg','page_0076.jpg','page_0077.jpg','page_0078.jpg','page_0079.jpg','page_0080.jpg',
'page_0081.jpg','page_0082.jpg','page_0083.jpg','page_0084.jpg','page_0085.jpg','page_0086.jpg','page_0087.jpg','page_0088.jpg'
];

const book = document.getElementById('book');
const loader = document.getElementById('loader');
const controls = document.getElementById('controls');
let current = 0;
let loaded = 0;

// Create pages
pages.forEach((src, i) => {
  const p = document.createElement('div');
  p.className = 'page';
  p.style.zIndex = pages.length - i;

  const img = document.createElement('img');
  img.src = 'pages/' + src;
  img.onload = onImgLoad;
  img.onerror = onImgLoad; // still continue if one fails

  p.appendChild(img);
  book.appendChild(p);
});

function onImgLoad(){
  loaded++;
  if(loaded === pages.length){
    loader.style.display = 'none';
    controls.style.display = 'block';
    update();
  }
}

const pageDivs = document.querySelectorAll('.page');

function update() {
  pageDivs.forEach((p, i) => {
    if (i < current) {
      p.style.transform = 'rotateY(-180deg)';
      p.style.zIndex = i;
    } else {
      p.style.transform = 'rotateY(0deg)';
      p.style.zIndex = pages.length - i;
    }
  });
}

function nextPage() {
  if (current < pages.length) current++;
  update();
}

function prevPage() {
  if (current > 0) current--;
  update();
}

function toggleFull() {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
}
</script>

</body>
</html>
